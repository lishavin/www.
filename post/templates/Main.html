{% load static %}
<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WWW</title>
		<link rel="stylesheet" href="{% static 'css/Main.css' %}" />
	</head>

	<body>
		<header>
			<img class="cloud101" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud102" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud103" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud104" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud105" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud11" src="{% static 'img/image 10.svg' %}" />
			<img class="cloud8" src="{% static 'img/image 10.svg' %}" />
			<div class="headContainer">
				<span class="logo"><a href="{% url 'Main' %}">www.</a></span>
               {% if user.is_authenticated %}
                  <span class="logout"><a href="{% url 'logout' %}">LogOut</a></span>
                  <span class="create"><a href="{% url 'create' %}">ê¸€ì“°ê¸°</a></span>
               {% else %}
                  <span class="login"><a href="{% url 'login' %}">Log in</a></span>
                  <span class="signup"><a href="{% url 'signup' %}">SignUp</a></span>
               {% endif %}
			</div>
			<div class="time">
            {% if hour < 12 %}
				   <p>Good Morning</p>
            {% elif hour < 18 %}
               <p>Good Afternoon</p>
            {% else %}
            <p>Good Night</p>
            {% endif %}
			</div>
			<div class="weather">
				<p>{{now}}</p>
			</div>
			<div class="nowWeather">
				<p class="title">í˜„ì¬ ë‚ ì”¨ â›…ï¸</p>
				<div>
					<p>ì˜¤ëŠ˜ì˜ ë‚ ì”¨ : {{mypost.weather}}</p>
					<p>{{mypost.weather_desc}}</p>
				</div>
				<div>
					<p>ì˜¤ëŠ˜ì˜ ê¸°ì˜¨ : ì•½ {{mypost.temp}} ğŸŒ¡</p>
					<p>{{mypost.temp_desc}}</p>
				</div>
				<div>
					<p>ì´ˆë¯¸ì„¸ë¨¼ì§€ : {{mypost.finedust}}</p>
					<p>{{mypost.finedust_desc}}</p>
				</div>
				<p class="caster">ê¸°ìƒ ìºìŠ¤í„° : {{mypost.user.nickname}}</p>
			</div>
		</header>
		<main>
			<div class="text">
				<p>ì¶”ì²œ ì°©ì¥ ğŸ‘•</p>
			</div>
			<form>
				<input type="text" name="search" placeholder="ê²€ìƒ‰í•˜ê³  ì‹¶ì€ íƒœê·¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ex) #ìš´ë™ #ì‚°ì±….." />
				<img src="{% static 'img/search 1.svg'%}" />
			</form>
			<div class="searchContainer">
				<div class="textContainer">
					<button class="scrabSort" onclick="clickScrab();"># ìŠ¤í¬ë© ì¶”ì²œ ì°©ì¥</button>
					<button class="nowSort" onclick="nowScrab();"># ì‹¤ì‹œê°„ ì°©ì¥</button>
					<button class="likeSort" onclick="likeScrab();"># ê³µê° ì¶”ì²œ ì°©ì¥</button>
				</div>
				<div class="resultContainer">
					<p>ì‚¬ìš©ìë“¤ì´ ìŠ¤í¬ë©ì„ ë§ì´ í•œ ì°©ì¥ ìˆœìœ¼ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.</p>
					<div class="imgContainer">
                  {% for post in posts_scrap %}
						<div class="imgEach">
							   <img src="http://placekitten.com/g/300/300" />
							   <button class="cartBtn">ğŸ›’({{post.scrap}})</button>
							   <button class="likeBtn">ğŸ‘({{post.liked}})</button>
							   <div class="tagContainer"><span>{{post.wear_tag1}}</span><span>#í•œê°• </span><span>#ê°œê°•ì „ </span></div>
							   <div class="clothKindContainer"><span>{{post.today_tag1}} </span><span>#Aë¼ì¸ì²­ì¹˜ë§ˆ </span></div>
                  </div>
                  {% endfor %}
					</div>
				</div>
			</div>
			<script>
				const cloud101 = document.querySelector('.cloud101');
				const cloud102 = document.querySelector('.cloud102');
				const cloud103 = document.querySelector('.cloud103');
				const cloud104 = document.querySelector('.cloud104');
				const cloud105 = document.querySelector('.cloud105');
				const cloud11 = document.querySelector('.cloud11');
				const cloud8 = document.querySelector('.cloud8');

				cloud101.style.left = '1px';
				cloud8.style.left = '-96px';
				cloud11.style.left = '-136px';
				cloud105.style.left = '269px';
				cloud102.style.left = '-188px';
				cloud103.style.left = '208px';
				cloud104.style.left = '243px';

				let animate;

				const cloudActive = () => {
					moving1();
					moving2();
					moving3();
				};

				const moving1 = () => {
					cloud101.style.left = parseInt(cloud101.style.left) + 1 + 'px';
					cloud11.style.left = parseInt(cloud11.style.left) + 1 + 'px';
					if (cloud101.style.left === '390px') {
						cloud101.style.left = '-270px';
					}
					if (cloud11.style.left === '390px') {
						cloud11.style.left = '-270px';
					}

					animate = setTimeout(moving1, 20);
				};

				const moving2 = () => {
					cloud102.style.left = parseInt(cloud102.style.left) + 1 + 'px';
					cloud103.style.left = parseInt(cloud103.style.left) + 1 + 'px';

					if (cloud102.style.left === '390px') {
						cloud102.style.left = '-270px';
					}
					if (cloud103.style.left === '390px') {
						cloud103.style.left = '-270px';
					}
					animate = setTimeout(moving2, 30);
				};

				const moving3 = () => {
					cloud8.style.left = parseInt(cloud8.style.left) + 1 + 'px';
					cloud104.style.left = parseInt(cloud104.style.left) + 1 + 'px';
					cloud105.style.left = parseInt(cloud105.style.left) + 1 + 'px';

					if (cloud8.style.left === '390px') {
						cloud8.style.left = '-270px';
					}
					if (cloud104.style.left === '390px') {
						cloud104.style.left = '-270px';
					}
					if (cloud105.style.left === '390px') {
						cloud105.style.left = '-270px';
					}
					animate = setTimeout(moving3, 40);
				};

				window.onload = cloudActive;

				const scrabSort = document.querySelector('.scrabSort');
				const nowSort = document.querySelector('.nowSort');
				const likeSort = document.querySelector('.likeSort');

				const clickScrab = () => {
					scrabSort.style = 'color:#000; ';
					nowSort.style = 'color:#aaa;';
					likeSort.style = 'color:#aaa;';
               ScrapRender();
				};

				const nowScrab = () => {
					nowSort.style = 'color:#000; ';
					scrabSort.style = 'color:#aaa;';
					likeSort.style = 'color:#aaa;';
               NowRender();
				};

				const likeScrab = () => {
					likeSort.style = 'color:#000; ';
					nowSort.style = 'color:#aaa;';
					scrabSort.style = 'color:#aaa;';
               LikeRender();
				};

				// ì¶”ì²œ ì°©ì¥ ì¸ì‡„
				const $result = document.querySelector('.resultContainer');

				const ScrapRender = () => {
					$result.innerHTML = `
               <p>ì‚¬ìš©ìë“¤ì´ ìŠ¤í¬ë©ì„ ë§ì´ í•œ ì°©ì¥ ìˆœìœ¼ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.</p>
               <div class="imgContainer">
                  {% for post in posts_scrap %}
						<div class="imgEach">
                        <img src="http://placekitten.com/g/300/300" />
							   <button class="cartBtn">ğŸ›’({{post.scrap}})</button>
							   <button class="likeBtn">ğŸ‘({{post.liked}})</button>
							   <div class="tagContainer">
                           <span>#{{post.wear_tag1}}</span> 
                           {% if post.wear_tag2 %}
                              <span>#{{post.wear_tag2}}</span>
                           {% endif %}
                           {% if post.wear_tag3 %}
                              <span>#{{post.wear_tag3}}</span>
                           {% endif %}
                           
                           </div>
							   <div class="clothKindContainer">
                           <span>#{{post.today_tag1}} </span>
                           {% if post.today_tag2 %}
                              <span>#{{post.today_tag2}}</span>
                           {% endif %}
                           {% if post.today_tag3 %}
                              <span>#{{post.today_tag3}}</span>
                           {% endif %}
                        </div>
                     
                  </div>
                  {% endfor %}
					</div>
					</div>`;
				};

				const setState = (newState) => {
					state = { ...state, ...newState };
					// ScrapRender();
				};

				const NowRender = () => {
					$result.innerHTML = `
               <p>ì‚¬ìš©ìë“¤ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë¡œë“œí•œ ì°©ì¥ ìˆœìœ¼ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.</p>
               <div class="imgContainer">
                  {% for post in origin_post %}
						   <div class="imgEach">
						   	<img src="http://placekitten.com/g/300/300" />
							   <button class="cartBtn">ğŸ›’({{post.scrap}})</button>
							   <button class="likeBtn">ğŸ‘({{post.liked}})</button>
							   <div class="tagContainer">
                           <span>#{{post.wear_tag1}}</span> 
                           {% if post.wear_tag2 %}
                              <span>#{{post.wear_tag2}}</span>
                           {% endif %}
                           {% if post.wear_tag3 %}
                              <span>#{{post.wear_tag3}}</span>
                           {% endif %}
                        </div>
							   <div class="clothKindContainer">
                           <span>#{{post.today_tag1}} </span>
                           {% if post.today_tag2 %}
                              <span>#{{post.today_tag2}}</span>
                           {% endif %}
                           {% if post.today_tag3 %}
                              <span>#{{post.today_tag3}}</span>
                           {% endif %}
						   	</div>
						   </div>
                  {% endfor %}
					</div>`;
				};

				const LikeRender = () => {
					$result.innerHTML = `
               <p>ì‚¬ìš©ìë“¤ì´ ê³µê° ì¶”ì²œì„ ë§ì´ í•œ ì°©ì¥ ìˆœìœ¼ë¡œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.</p>
               <div class="imgContainer">
						{% for post in posts_liked %}
						   <div class="imgEach">
						   	<img src="http://placekitten.com/g/300/300" />
							   <button class="cartBtn">ğŸ›’({{post.scrap}})</button>
							   <button class="likeBtn">ğŸ‘({{post.liked}})</button>
							   <div class="tagContainer">
                           <span>#{{post.wear_tag1}}</span> 
                           {% if post.wear_tag2 %}
                              <span>#{{post.wear_tag2}}</span>
                           {% endif %}
                           {% if post.wear_tag3 %}
                              <span>#{{post.wear_tag3}}</span>
                           {% endif %}
                           
                           </div>
							   <div class="clothKindContainer">
                           <span>#{{post.today_tag1}} </span>
                           {% if post.today_tag2 %}
                              <span>#{{post.today_tag2}}</span>
                           {% endif %}
                           {% if post.today_tag3 %}
                              <span>#{{post.today_tag3}}</span>
                           {% endif %}
						   	</div>
						   </div>
                  {% endfor %}
					</div>`;
				};

				ScrapRender();
			</script>
		</main>
	</body>
</html>